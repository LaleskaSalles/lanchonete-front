<div class="w-screen bg-gray-100 h-screen ">
    <app-navbar></app-navbar>
    <div class="container mx-auto w-full shadow-md sm:rounded-lg my-4 p-8 bg-white dark:bg-gray-800 w-full p-6">
        <h2 class="font-bold mb-6 text-gray-800 dark:text-white">
            Finish your order
        </h2>
        @if(orderForm){
        <form [formGroup]="orderForm" (ngSubmit)="saveOrder()" novalidate>
            <div class="flex justify-between space-x-4">
                <div class="mb-6 w-1/2">
                    <label for="name" class="flex mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        Name
                    </label>
                    <input type="text" id="customer_name" formControlName="customer_name"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('customer_name')?.hasError('required') &&
                    orderForm.get('customer_name')?.touched) {
                    <div class="text-red-500">Name is required</div>
                    }
                </div>

                <div class="mb-6 w-1/2">
                    <label for="name" class="flex mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        Phone
                    </label>
                    <input type="text" id="phone" formControlName="phone"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('phone')?.hasError('required') && orderForm.get('phone')?.touched) {
                    <div class="text-red-500">Phone is required</div>
                    }
                </div>
            </div>

            <div class="flex justify-between space-x-4">
                <div class="mb-6 w-1/3">
                    <label for="name" class="flex block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        Zip Code
                    </label>
                    <input type="text" id="zip_code" formControlName="zip_code"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('zip_code')?.hasError('required') && orderForm.get('zip_code')?.touched) {
                    <div class="text-red-500">Zip Code is required</div>
                    }
                </div>

                <div class="mb-6 w-1/3">
                    <label for="name" class="flex block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        Neighborhood
                    </label>
                    <input type="text" id="neighborhood" formControlName="neighborhood"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('neighborhood')?.hasError('required') && orderForm.get('neighborhood')?.touched)
                    {
                    <div class="text-red-500">Neighborhood</div>
                    }
                </div>
                <div class="mb-6 w-1/3">
                    <label for="name" class="flex block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        Street
                    </label>
                    <input type="text" id="street" formControlName="street"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('street')?.hasError('required') && orderForm.get('street')?.touched) {
                    <div class="text-red-500">Street is required</div>
                    }
                </div>
                <div class="mb-6">
                    <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        Number
                    </label>
                    <input type="text" id="number" formControlName="number"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500">
                </div>
            </div>

            <div class="flex justify-between space-x-4">
                <div class="mb-6 w-1/3">
                    <label for="name" class="flex block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        Complement
                    </label>
                    <input type="text" id="complement" formControlName="complement"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-6 w-1/3">
                    <label for="name" class="flex mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        State
                    </label>
                    <input type="text" id="state" formControlName="state"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('state')?.hasError('required') && orderForm.get('state')?.touched) {
                    <div class="text-red-500">State is required</div>
                    }
                </div>

                <div class="mb-6 w-1/3">
                    <label for="name" class="flex block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
                        <p class="text-red-500">*</p>
                        City
                    </label>
                    <input type="text" id="city" formControlName="city"
                        class="w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:border-blue-500"
                        required>
                    @if (orderForm.get('city')?.hasError('required') && orderForm.get('city')?.touched) {
                    <div class="text-red-500">City is required</div>
                    }
                </div>
            </div>

            
                <div *ngFor="let hamburger of orderForm.get('hamburgers')?.value; let i = index">
                    <dl class="max-w-md text-gray-900 divide-y divide-gray-200 dark:text-white dark:divide-gray-700">
                        <div class="flex flex-col pb-3">
                            <dt class="mb-1 text-gray-500 md:text-lg dark:text-gray-400">{{ hamburger.value.price }}
                            </dt>
                            <dd class="text-lg font-semibold"> {{ hamburger.value.name }}</dd>
                        </div>
                    </dl>
                </div>
            

            <!-- <dl class="max-w-md text-gray-900 divide-y divide-gray-200 dark:text-white dark:divide-gray-700">
                <div class="flex flex-col pb-3">
                    <dt class="mb-1 text-gray-500 md:text-lg dark:text-gray-400">{{ ingredients.price }}</dt>
                    <dd class="text-lg font-semibold"> {{ orderForm.ingredients.name }}</dd>
                </div>
            </dl>
            
                <dl class="max-w-md text-gray-900 divide-y divide-gray-200 dark:text-white dark:divide-gray-700">
                    <div class="flex flex-col pb-3">
                        <dt class="mb-1 text-gray-500 md:text-lg dark:text-gray-400">{{ drinks.price }}</dt>
                        <dd class="text-lg font-semibold"> {{ orderForm.drinks.name }}</dd>
                    </div>
                </dl> -->


            <div class="flex items-center justify-between space-x-4">
                <button type="button"
                    class="w-full bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline"
                    routerLink="/cart">
                    Cancel
                </button>
                <button type="submit"
                    class="w-full bg-purple-400 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline">
                    Finalize order
                </button>
            </div>
        </form>
        }

    </div>
</div>